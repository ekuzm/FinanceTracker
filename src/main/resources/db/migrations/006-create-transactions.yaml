databaseChangeLog:
  - changeSet:
        id: 005-create-transactions
        author: ekuzm
        changes:
          - createTable:
                tableName: transactions
                columns:
                  - column:
                        name: id
                        type: BIGINT
                        autoIncrement: true
                        constraints:
                            primaryKey: true
                            primaryKeyName: pk_transactions
                            nullable: false
                  - column:
                        name: date
                        type: DATE
                  - column:
                        name: amount
                        type: DOUBLE PRECISION
                        constraints:
                            nullable: false
                  - column:
                        name: description
                        type: VARCHAR(255)
                        constraints:
                            nullable: false
                  - column:
                        name: budget_id
                        type: BIGINT
                        constraints:
                            nullable: false
                  - column:
                        name: user_id
                        type: BIGINT
          - addForeignKeyConstraint:
                baseTableName: transactions
                baseColumnNames: budget_id
                referencedTableName: budgets
                referencedColumnNames: id
                constraintName: fk_transactions_budget
                onDelete: CASCADE
                onUpdate: CASCADE
          - addForeignKeyConstraint:
                baseTableName: transactions
                baseColumnNames: user_id
                referencedTableName: users
                referencedColumnNames: id
                constraintName: fk_transactions_user
                onDelete: CASCADE
                onUpdate: CASCADE
