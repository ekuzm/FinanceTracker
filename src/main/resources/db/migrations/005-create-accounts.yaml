databaseChangeLog:
- changeSet:
    id: 004-create-accounts
    author: ekuzm
    changes:
    - createTable:
        tableName: accounts
        columns:
        - column:
            name: id
            type: BIGINT
            autoIncrement: true
            constraints:
              primaryKey: true
              primaryKeyName: pk_accounts
              nullable: false
        - column:
            name: name
            type: VARCHAR(50)
            constraints:
              nullable: false
        - column:
            name: type
            type: account_type
            constraints:
              nullable: false
        - column:
            name: balance
            type: NUMERIC(19,2)
            constraints:
              nullable: false
        - column:
            name: user_id
            type: BIGINT
    - addForeignKeyConstraint:
        baseTableName: accounts
        baseColumnNames: user_id
        referencedTableName: users
        referencedColumnNames: id
        constraintName: fk_accounts_user
        onDelete: CASCADE
        onUpdate: CASCADE
